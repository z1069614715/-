### R-CNN的简要步骤如下

##### (1) 输入测试图像

##### (2) 利用选择性搜索Selective Search算法在图像中从下到上提取2000个左右的可能包含物体的候选区域Region Proposal

##### (3) 因为取出的区域大小各自不同，所以需要将每个Region Proposal缩放（warp）成统一的227x227的大小并输入到CNN，将CNN的fc7层的输出作为特征

##### (4) 将每个Region Proposal提取到的CNN特征输入到SVM进行分类


### 具体步骤则如下

##### 步骤一：训练（或者下载）一个分类模型（比如AlexNet）

##### 步骤二：对该模型做fine-tuning

##### •将分类数从1000改为21，比如20个物体类别 + 1个背景

##### •去掉最后一个全连接层

##### 步骤三：特征提取

##### •提取图像的所有候选框（选择性搜索Selective Search）

##### •对于每一个区域：修正区域大小以适合CNN的输入，做一次前向运算，将第五个池化层的输出（就是对候选框提取到的特征）存到硬盘

##### 步骤四：训练一个SVM分类器（二分类）来判断这个候选框里物体的类别

##### 每个类别对应一个SVM，判断是不是属于这个类别，是就是positive，反之nagative。

### 缺点

##### 1. 利用Selective Search算法得到将近2000个物体框，这2000个物体框都需要经过cnn和svm的分类，计算量非常大
##### 2. cnn得出来的数据还需要存在硬盘，再又svm去进行分类，比较麻烦

### 优化

##### 1. 利用SPP-net进行优化，原本是每个proposal都需要进行卷积，使用了SPP-net后就只对原图进行一次卷积运算。
##### 2. 利用SPP-net进行优化后，解决了因为全连接层需要固定的input的问题，SPP-net会将卷积层出来的feature map进行池化操作，出来的维度为(16 + 4 + 1) * 256，这就形成的固定输出到全连接层。
